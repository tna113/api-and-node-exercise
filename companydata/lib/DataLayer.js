'use strict';var _0x31f1ff=_0x4395;(function(_0x367897,_0x877655){var _0x1ae262=_0x4395,_0x14fdc2=_0x367897();while(!![]){try{var _0x502e13=-parseInt(_0x1ae262(0x146))/0x1*(parseInt(_0x1ae262(0x169))/0x2)+-parseInt(_0x1ae262(0x16f))/0x3+parseInt(_0x1ae262(0x14a))/0x4+parseInt(_0x1ae262(0x191))/0x5+-parseInt(_0x1ae262(0x150))/0x6*(-parseInt(_0x1ae262(0x14d))/0x7)+parseInt(_0x1ae262(0x180))/0x8*(parseInt(_0x1ae262(0x15d))/0x9)+parseInt(_0x1ae262(0x194))/0xa*(-parseInt(_0x1ae262(0x1a0))/0xb);if(_0x502e13===_0x877655)break;else _0x14fdc2['push'](_0x14fdc2['shift']());}catch(_0x39d883){_0x14fdc2['push'](_0x14fdc2['shift']());}}}(_0x10e1,0x9a184));var MySql=require(_0x31f1ff(0x14b)),Department=require(_0x31f1ff(0x167)),Employee=require(_0x31f1ff(0x173)),Timecard=require(_0x31f1ff(0x1a2));const {daysInWeek}=require('date-fns/fp'),parseDate=_0x1b2edb=>{var _0x4fc7ca=_0x31f1ff,_0x4d744f=_0x1b2edb[_0x4fc7ca(0x171)](),_0x4d5b74=_0x4d744f[_0x4fc7ca(0x176)](/\D+/);return new Date(Date[_0x4fc7ca(0x16e)](_0x4d5b74[0x0],--_0x4d5b74[0x1],_0x4d5b74[0x2],_0x4d5b74[0x3],_0x4d5b74[0x4],_0x4d5b74[0x5],_0x4d5b74[0x6]));};function _0x10e1(){var _0x2f4f45=['3111685LsQnWo','SELECT\x20*\x20FROM\x20employee\x20WHERE\x20emp_id\x20=\x20?\x20','SELECT\x20*\x20FROM\x20timecard\x20WHERE\x20timecard_id\x20=\x20?','4139510wLeMtk','insertId','validateTime','emp_no','SELECT\x20*\x20FROM\x20timecard\x20where\x20emp_id\x20=\x20?','dept_no','match','mgr\x20delete','deleteEmployee','prototype','UPDATE\x20timecard\x20SET\x20start_time\x20=\x20?,\x20end_time\x20=\x20?\x20WHERE\x20timecard_id\x20=\x20?','deleteDepartment','22JHXOUM','getAllEmployee','./timecard','Department','company','SELECT\x20*\x20FROM\x20employee\x20WHERE\x20emp_id\x20=\x20?','782445vUgQbf','start_time','updateEmployee','pool','3369892nstgNA','mysql2/promise','updateTimecard','26768OLDdMy','affectedRows','SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_id\x20=\x20?\x20AND\x20company\x20=\x20?','882mHzMZR','UPDATE\x20employee\x20SET\x20emp_name\x20=\x20?,\x20emp_no\x20=\x20?,\x20hire_date\x20=\x20?,\x20job\x20=\x20?,\x20salary\x20=\x20?,\x20dept_id\x20=\x20?,\x20mng_id\x20=\x20?\x20WHERE\x20emp_id\x20=\x20?','emp_name','getEmployee','mng_id','getDepartment','updateDepartment','setMngId','log','yyyy-MM-dd\x20HH:mm:ss','SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_id\x20=\x20?\x20','DataLayer\x20needs\x20to\x20be\x20called\x20with\x20the\x20new\x20keyword\x20and\x20with\x20a\x20company','test','39519vMeKqP','SELECT\x20*\x20FROM\x20employee\x20LEFT\x20JOIN\x20department\x20USING(dept_id)\x20WHERE\x20department.company\x20=\x20?','Employee','salary','length','companyDB','format','SELECT\x20*\x20FROM\x20department\x20WHERE\x20company\x20=\x20?','timecard_id','n/a','./department','createPool','2tKUEAk','parse','location','SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_id\x20=\x20?','deleteCompany','UTC','1780089IMiItX','dept_name','toISOString','bdfvks-docker.ist.rit.edu','./employee','end_time','DELETE\x20from\x20employee\x20WHERE\x20emp_id\x20=\x20?','split','getTimecard','INSERT\x20INTO\x20department\x20(company,\x20dept_name,\x20dept_no,\x20location\x20)\x20VALUES\x20(?,\x20?,\x20?,\x20?)','INSERT\x20INTO\x20timecard\x20(start_time,\x20end_time,\x20emp_id\x20)\x20VALUES\x20(?,\x20?,\x20?)','SELECT\x20*\x20FROM\x20timecard\x20WHERE\x20timecard_id\x20=\x20?\x20','yyyy-MM-dd','hire_date','insertEmployee','isValidDate','getAllDepartment','1472SsKAkv','job','getId','emp_id','INSERT\x20INTO\x20employee\x20(emp_name,\x20emp_no,\x20hire_date,\x20job,\x20salary,\x20dept_id,\x20mng_id\x20)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','query','insertTimecard','insertDepartment','dept_id','map','slice','SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_no\x20=\x20?\x20AND\x20company\x20=\x20?','getDepartmentNo','UPDATE\x20department\x20SET\x20dept_name\x20=\x20?,\x20dept_no\x20=\x20?,\x20location\x20=\x20?\x20WHERE\x20dept_id\x20=\x20?','576','date-fns/format','getAllTimecard'];_0x10e1=function(){return _0x2f4f45;};return _0x10e1();}function _0x4395(_0x31120e,_0x4f2691){var _0x10e1d4=_0x10e1();return _0x4395=function(_0x439556,_0x303c6b){_0x439556=_0x439556-0x145;var _0x75baa1=_0x10e1d4[_0x439556];return _0x75baa1;},_0x4395(_0x31120e,_0x4f2691);}var DataLayer=function(_0xdff582){var _0x1ff67f=_0x31f1ff;if(!(this instanceof DataLayer)||typeof _0xdff582==='undefined')throw new Error(_0x1ff67f(0x15b));this[_0x1ff67f(0x162)]=_0xdff582+'_company',this[_0x1ff67f(0x149)]=MySql[_0x1ff67f(0x168)]({'host':_0x1ff67f(0x172),'user':_0x1ff67f(0x18e),'password':_0x1ff67f(0x18e),'database':this['companyDB'],'waitForConnections':!![],'connectionLimit':0x64,'queueLimit':0x0});};DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x1a3)]=require('./department'),DataLayer['prototype'][_0x31f1ff(0x15f)]=require(_0x31f1ff(0x173)),DataLayer[_0x31f1ff(0x19d)]['Timecard']=require(_0x31f1ff(0x1a2)),DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x17e)]=function isValidDate(_0x3c70fe){var _0x97f328=_0x31f1ff,_0x307006=/^\d{4}-\d{2}-\d{2}$/;if(!_0x3c70fe[_0x97f328(0x19a)](_0x307006))return![];var _0x1eaba9=Date[_0x97f328(0x16a)](_0x3c70fe);if(isNaN(_0x1eaba9))return![];return new Date(_0x1eaba9)[_0x97f328(0x171)]()[_0x97f328(0x18a)](0x0,0xa)===_0x3c70fe;},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x196)]=function validateTime(_0x424a61){var _0x3479cd=_0x31f1ff,_0x51c555=new RegExp('([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])');return _0x51c555[_0x3479cd(0x15c)](_0x424a61)?!![]:![];},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x16d)]=async function(_0x10fe38){var _0x7038a8=_0x31f1ff;const _0x412e12=require('date-fns/format');(!_0x10fe38||_0x10fe38[_0x7038a8(0x161)]===0x0||/^\s*$/[_0x7038a8(0x15c)](_0x10fe38))&&(_0x10fe38='n/a');var _0x1b735c=0x0,_0x1a50a1=await this[_0x7038a8(0x17f)](_0x10fe38),_0x464037=await this[_0x7038a8(0x1a1)](_0x10fe38);if(_0x464037[_0x7038a8(0x161)]>0x0){var _0x54df4c=new Employee(_0x7038a8(0x19b),_0x7038a8(0x19b),_0x412e12(new Date(),_0x7038a8(0x17b)),'delete',0x0,_0x464037[0x0][_0x7038a8(0x188)],null,null);_0x54df4c=await this[_0x7038a8(0x17d)](_0x54df4c);var _0x572570=_0x54df4c['getId']();for(var _0x14f119 of _0x464037){if(_0x14f119[_0x7038a8(0x182)]()!=_0x572570){_0x14f119[_0x7038a8(0x157)](_0x572570),await this[_0x7038a8(0x148)](_0x14f119);var _0x4049a9=await this[_0x7038a8(0x190)](_0x14f119['getId']());for(var _0x29826d of _0x4049a9){await this['deleteTimecard'](_0x29826d['getId']()),_0x1b735c++;}}}_0x464037=await this[_0x7038a8(0x1a1)](_0x10fe38);for(var _0x14f119 of _0x464037){_0x14f119[_0x7038a8(0x182)]()!=_0x572570&&(await this[_0x7038a8(0x19c)](_0x14f119['getId']()),_0x1b735c++);}await this['deleteEmployee'](_0x572570),_0x1b735c++;}for(var _0x1a3395 of _0x1a50a1){await this[_0x7038a8(0x19f)](_0x10fe38,_0x1a3395['getId']()),_0x1b735c++;}return _0x1b735c;},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x17f)]=async function(_0x55683a){var _0x3dfc89=_0x31f1ff;(!_0x55683a||_0x55683a['length']===0x0||/^\s*$/[_0x3dfc89(0x15c)](_0x55683a))&&(_0x55683a=_0x3dfc89(0x166));let _0x4f6d6a=_0x3dfc89(0x164),_0x49e546=MySql[_0x3dfc89(0x163)](_0x4f6d6a,[_0x55683a]),_0x55c48a=await this[_0x3dfc89(0x149)][_0x3dfc89(0x185)](_0x49e546);return _0x55c48a[0x0][_0x3dfc89(0x189)](_0x164786=>new Department(_0x164786[_0x3dfc89(0x1a4)],_0x164786[_0x3dfc89(0x170)],_0x164786[_0x3dfc89(0x199)],_0x164786[_0x3dfc89(0x16b)],_0x164786[_0x3dfc89(0x188)]));},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x155)]=async function(_0x5a4429,_0x1a2ad3){var _0x281461=_0x31f1ff;if(!_0x1a2ad3||!_0x5a4429)return null;let _0x575375=_0x281461(0x14f),_0x18254d=MySql[_0x281461(0x163)](_0x575375,[_0x1a2ad3,_0x5a4429]),_0x223496=await this[_0x281461(0x149)][_0x281461(0x185)](_0x18254d);return _0x223496[0x0][_0x281461(0x161)]==0x1?new Department(_0x223496[0x0][0x0][_0x281461(0x1a4)],_0x223496[0x0][0x0][_0x281461(0x170)],_0x223496[0x0][0x0]['dept_no'],_0x223496[0x0][0x0][_0x281461(0x16b)],_0x223496[0x0][0x0][_0x281461(0x188)]):null;},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x18c)]=async function(_0x5e01e9,_0xac99f4){var _0xea7fc7=_0x31f1ff;if(!_0xac99f4||!_0x5e01e9)return null;let _0x5c929f=_0xea7fc7(0x18b),_0x156c9d=MySql[_0xea7fc7(0x163)](_0x5c929f,[_0xac99f4,_0x5e01e9]),_0x5d8729=await this[_0xea7fc7(0x149)][_0xea7fc7(0x185)](_0x156c9d);return _0x5d8729[0x0][_0xea7fc7(0x161)]==0x1?new Department(_0x5d8729[0x0][0x0]['company'],_0x5d8729[0x0][0x0][_0xea7fc7(0x170)],_0x5d8729[0x0][0x0]['dept_no'],_0x5d8729[0x0][0x0][_0xea7fc7(0x16b)],_0x5d8729[0x0][0x0][_0xea7fc7(0x188)]):null;},DataLayer['prototype'][_0x31f1ff(0x187)]=async function(_0x3fd6b5){var _0x2bf6b8=_0x31f1ff;try{var _0x3e3b68=_0x2bf6b8(0x178),_0x53d7a2=MySql['format'](_0x3e3b68,[_0x3fd6b5['company'],_0x3fd6b5[_0x2bf6b8(0x170)],_0x3fd6b5[_0x2bf6b8(0x199)],_0x3fd6b5[_0x2bf6b8(0x16b)]]),_0x45da3b=await this[_0x2bf6b8(0x149)][_0x2bf6b8(0x185)](_0x53d7a2);if(_0x45da3b[0x0][_0x2bf6b8(0x195)]==0x0)return null;return _0x3e3b68=_0x2bf6b8(0x15a),_0x53d7a2=MySql[_0x2bf6b8(0x163)](_0x3e3b68,[_0x45da3b[0x0][_0x2bf6b8(0x195)]]),_0x45da3b=await this[_0x2bf6b8(0x149)][_0x2bf6b8(0x185)](_0x53d7a2),_0x45da3b[0x0][_0x2bf6b8(0x161)]==0x1?new Department(_0x45da3b[0x0][0x0][_0x2bf6b8(0x1a4)],_0x45da3b[0x0][0x0][_0x2bf6b8(0x170)],_0x45da3b[0x0][0x0]['dept_no'],_0x45da3b[0x0][0x0]['location'],_0x45da3b[0x0][0x0]['dept_id']):null;}catch(_0x29a8d8){return console[_0x2bf6b8(0x158)](_0x29a8d8),null;}},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x156)]=async function(_0x571738){var _0x598ef=_0x31f1ff;try{var _0x463964=_0x598ef(0x18d),_0x3f017c=MySql[_0x598ef(0x163)](_0x463964,[_0x571738[_0x598ef(0x170)],_0x571738['dept_no'],_0x571738['location'],_0x571738['dept_id']]),_0x28c819=await this[_0x598ef(0x149)][_0x598ef(0x185)](_0x3f017c);if(_0x28c819[0x0]['affectedRows']==0x0)return null;return _0x463964=_0x598ef(0x16c),_0x3f017c=MySql[_0x598ef(0x163)](_0x463964,[_0x571738[_0x598ef(0x188)]]),_0x28c819=await this[_0x598ef(0x149)][_0x598ef(0x185)](_0x3f017c),_0x28c819[0x0][_0x598ef(0x161)]==0x1?new Department(_0x28c819[0x0][0x0][_0x598ef(0x1a4)],_0x28c819[0x0][0x0]['dept_name'],_0x28c819[0x0][0x0][_0x598ef(0x199)],_0x28c819[0x0][0x0][_0x598ef(0x16b)],_0x28c819[0x0][0x0][_0x598ef(0x188)]):null;}catch(_0x22e685){return console[_0x598ef(0x158)](_0x22e685),null;}},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x19f)]=async function(_0xa0eb13,_0x2e8867){var _0x2fe42c=_0x31f1ff;try{var _0x28b0fe='DELETE\x20from\x20department\x20WHERE\x20dept_id\x20=\x20?\x20AND\x20company\x20=\x20?',_0x1e2809=MySql['format'](_0x28b0fe,[_0x2e8867,_0xa0eb13]),_0x41e424=await this[_0x2fe42c(0x149)][_0x2fe42c(0x185)](_0x1e2809);return _0x41e424[0x0][_0x2fe42c(0x14e)];}catch(_0x2e8a21){return console['log'](_0x2e8a21),0x0;}},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x17d)]=async function(_0x8a7366){var _0x122cf2=_0x31f1ff;if(!_0x8a7366[_0x122cf2(0x17c)]||!this[_0x122cf2(0x17e)](_0x8a7366[_0x122cf2(0x17c)]))return null;try{var _0x46c41d=_0x122cf2(0x184),_0x1b8197=MySql[_0x122cf2(0x163)](_0x46c41d,[_0x8a7366['emp_name'],_0x8a7366[_0x122cf2(0x197)],_0x8a7366['hire_date'],_0x8a7366['job'],_0x8a7366['salary'],_0x8a7366[_0x122cf2(0x188)],_0x8a7366[_0x122cf2(0x154)]]),_0x5af97e=await this[_0x122cf2(0x149)]['query'](_0x1b8197);if(_0x5af97e[0x0]['insertId']==0x0)return null;_0x46c41d=_0x122cf2(0x192),_0x1b8197=MySql[_0x122cf2(0x163)](_0x46c41d,[_0x5af97e[0x0][_0x122cf2(0x195)]]),_0x5af97e=await this['pool'][_0x122cf2(0x185)](_0x1b8197);if(_0x5af97e[0x0][_0x122cf2(0x161)]==0x1){var _0x3c4d98=new Date(_0x5af97e[0x0][0x0][_0x122cf2(0x17c)]),_0x358e40=_0x3c4d98[_0x122cf2(0x171)]()[_0x122cf2(0x18a)](0x0,0xa);return new Employee(_0x5af97e[0x0][0x0][_0x122cf2(0x152)],_0x5af97e[0x0][0x0][_0x122cf2(0x197)],_0x358e40,_0x5af97e[0x0][0x0][_0x122cf2(0x181)],_0x5af97e[0x0][0x0][_0x122cf2(0x160)],_0x5af97e[0x0][0x0]['dept_id'],_0x5af97e[0x0][0x0][_0x122cf2(0x154)],_0x5af97e[0x0][0x0][_0x122cf2(0x183)]);}else return null;}catch(_0x5433f7){return console['log'](_0x5433f7),null;}},DataLayer[_0x31f1ff(0x19d)]['getAllEmployee']=async function(_0xbf52dc){var _0x224910=_0x31f1ff;(!_0xbf52dc||_0xbf52dc[_0x224910(0x161)]===0x0||/^\s*$/[_0x224910(0x15c)](_0xbf52dc))&&(_0xbf52dc=_0x224910(0x166));let _0x4e1a53=_0x224910(0x15e),_0x31ef47=MySql[_0x224910(0x163)](_0x4e1a53,[_0xbf52dc]),_0x4d32b5=await this[_0x224910(0x149)][_0x224910(0x185)](_0x31ef47);return _0x4d32b5[0x0][_0x224910(0x189)](_0x25e62c=>{var _0x15c607=_0x224910,_0x560bd1=new Date(_0x25e62c[_0x15c607(0x17c)]),_0x4e3422=_0x560bd1[_0x15c607(0x171)]()[_0x15c607(0x18a)](0x0,0xa);return new Employee(_0x25e62c[_0x15c607(0x152)],_0x25e62c[_0x15c607(0x197)],_0x4e3422,_0x25e62c[_0x15c607(0x181)],_0x25e62c[_0x15c607(0x160)],_0x25e62c[_0x15c607(0x188)],_0x25e62c[_0x15c607(0x154)],_0x25e62c[_0x15c607(0x183)]);});},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x153)]=async function(_0x2426b2){var _0x3aea83=_0x31f1ff;if(!_0x2426b2)return null;let _0x3af293=_0x3aea83(0x145),_0x3649dd=MySql['format'](_0x3af293,[_0x2426b2]),_0x256884=await this[_0x3aea83(0x149)][_0x3aea83(0x185)](_0x3649dd);if(_0x256884[0x0][_0x3aea83(0x161)]==0x1){var _0x16bcb8=new Date(_0x256884[0x0][0x0][_0x3aea83(0x17c)]),_0x303b13=_0x16bcb8[_0x3aea83(0x171)]()['slice'](0x0,0xa);return new Employee(_0x256884[0x0][0x0][_0x3aea83(0x152)],_0x256884[0x0][0x0]['emp_no'],_0x303b13,_0x256884[0x0][0x0][_0x3aea83(0x181)],_0x256884[0x0][0x0][_0x3aea83(0x160)],_0x256884[0x0][0x0][_0x3aea83(0x188)],_0x256884[0x0][0x0][_0x3aea83(0x154)],_0x256884[0x0][0x0][_0x3aea83(0x183)]);}else return null;},DataLayer[_0x31f1ff(0x19d)]['updateEmployee']=async function(_0x52a593){var _0x58fe5e=_0x31f1ff;if(!_0x52a593[_0x58fe5e(0x17c)]||!_0x52a593[_0x58fe5e(0x17c)])return null;try{var _0x3ffdcd=_0x58fe5e(0x151),_0x286764=MySql[_0x58fe5e(0x163)](_0x3ffdcd,[_0x52a593[_0x58fe5e(0x152)],_0x52a593[_0x58fe5e(0x197)],_0x52a593[_0x58fe5e(0x17c)],_0x52a593[_0x58fe5e(0x181)],_0x52a593['salary'],_0x52a593[_0x58fe5e(0x188)],_0x52a593[_0x58fe5e(0x154)],_0x52a593[_0x58fe5e(0x183)]]),_0x232dd4=await this[_0x58fe5e(0x149)][_0x58fe5e(0x185)](_0x286764);if(_0x232dd4[0x0][_0x58fe5e(0x14e)]==0x0)return null;_0x3ffdcd=_0x58fe5e(0x145),_0x286764=MySql[_0x58fe5e(0x163)](_0x3ffdcd,[_0x52a593[_0x58fe5e(0x183)]]),_0x232dd4=await this[_0x58fe5e(0x149)][_0x58fe5e(0x185)](_0x286764);if(_0x232dd4[0x0]['length']==0x1){var _0x43acfb=new Date(_0x232dd4[0x0][0x0][_0x58fe5e(0x17c)]),_0x133123=_0x43acfb[_0x58fe5e(0x171)]()[_0x58fe5e(0x18a)](0x0,0xa);return new Employee(_0x232dd4[0x0][0x0][_0x58fe5e(0x152)],_0x232dd4[0x0][0x0][_0x58fe5e(0x197)],_0x133123,_0x232dd4[0x0][0x0]['job'],_0x232dd4[0x0][0x0][_0x58fe5e(0x160)],_0x232dd4[0x0][0x0][_0x58fe5e(0x188)],_0x232dd4[0x0][0x0]['mng_id'],_0x232dd4[0x0][0x0]['emp_id']);}else return null;}catch(_0xfee005){return console['log'](_0xfee005),null;}},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x19c)]=async function(_0x2af7b9){var _0x55a206=_0x31f1ff;try{var _0x37cff4=_0x55a206(0x175),_0x3e8507=MySql[_0x55a206(0x163)](_0x37cff4,[_0x2af7b9]),_0x58cfb2=await this[_0x55a206(0x149)]['query'](_0x3e8507);return _0x58cfb2[0x0][_0x55a206(0x14e)];}catch(_0x2c12ce){return console[_0x55a206(0x158)](_0x2c12ce),0x0;}},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x186)]=async function(_0x1a24f5){var _0x42f3d0=_0x31f1ff;const _0x2bf625=require(_0x42f3d0(0x18f));var _0x376d3b=_0x1a24f5[_0x42f3d0(0x147)]['split']('\x20');if(!this['isValidDate'](_0x376d3b[0x0])||!this[_0x42f3d0(0x196)](_0x376d3b[0x1]))return null;var _0x493267=_0x1a24f5[_0x42f3d0(0x174)][_0x42f3d0(0x176)]('\x20');if(!this[_0x42f3d0(0x17e)](_0x493267[0x0])||!this['validateTime'](_0x493267[0x1]))return null;try{var _0x464a33=_0x42f3d0(0x179),_0x496469=MySql[_0x42f3d0(0x163)](_0x464a33,[_0x1a24f5[_0x42f3d0(0x147)],_0x1a24f5[_0x42f3d0(0x174)],_0x1a24f5[_0x42f3d0(0x183)]]),_0x1a323c=await this[_0x42f3d0(0x149)][_0x42f3d0(0x185)](_0x496469);if(_0x1a323c[0x0][_0x42f3d0(0x195)]==0x0)return null;return _0x464a33=_0x42f3d0(0x17a),_0x496469=MySql['format'](_0x464a33,[_0x1a323c[0x0][_0x42f3d0(0x195)]]),_0x1a323c=await this[_0x42f3d0(0x149)][_0x42f3d0(0x185)](_0x496469),_0x1a323c[0x0][_0x42f3d0(0x161)]==0x1?new Timecard(_0x2bf625(parseDate(_0x1a323c[0x0][0x0]['start_time']),_0x42f3d0(0x159)),_0x2bf625(parseDate(_0x1a323c[0x0][0x0][_0x42f3d0(0x174)]),_0x42f3d0(0x159)),_0x1a323c[0x0][0x0][_0x42f3d0(0x183)],_0x1a323c[0x0][0x0][_0x42f3d0(0x165)]):null;}catch(_0xbf2367){return console[_0x42f3d0(0x158)](_0xbf2367),null;}},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x190)]=async function(_0x1ecb7d){var _0x5c3716=_0x31f1ff;const _0x547e0a=require(_0x5c3716(0x18f));let _0x5814db=_0x5c3716(0x198),_0x50fb8f=MySql[_0x5c3716(0x163)](_0x5814db,[_0x1ecb7d]),_0x459df7=await this[_0x5c3716(0x149)][_0x5c3716(0x185)](_0x50fb8f);return _0x459df7[0x0][_0x5c3716(0x189)](_0x59803e=>new Timecard(_0x547e0a(parseDate(_0x59803e[_0x5c3716(0x147)]),_0x5c3716(0x159)),_0x547e0a(parseDate(_0x59803e[_0x5c3716(0x174)]),_0x5c3716(0x159)),_0x59803e[_0x5c3716(0x183)],_0x59803e[_0x5c3716(0x165)]));},DataLayer[_0x31f1ff(0x19d)][_0x31f1ff(0x177)]=async function(_0x4249c0){var _0x528647=_0x31f1ff;const _0x238f84=require(_0x528647(0x18f));if(!_0x4249c0)return null;let _0x4eb33b=_0x528647(0x193),_0x181027=MySql[_0x528647(0x163)](_0x4eb33b,[_0x4249c0]),_0x73dc3d=await this[_0x528647(0x149)][_0x528647(0x185)](_0x181027);return _0x73dc3d[0x0]['length']==0x1?new Timecard(_0x238f84(parseDate(_0x73dc3d[0x0][0x0]['start_time']),'yyyy-MM-dd\x20HH:mm:ss'),_0x238f84(parseDate(_0x73dc3d[0x0][0x0]['end_time']),'yyyy-MM-dd\x20HH:mm:ss'),_0x73dc3d[0x0][0x0][_0x528647(0x183)],_0x73dc3d[0x0][0x0]['timecard_id']):null;},DataLayer['prototype'][_0x31f1ff(0x14c)]=async function(_0x3c876c){var _0x1848c0=_0x31f1ff;const _0x2b613a=require(_0x1848c0(0x18f));var _0x1c3daf=_0x3c876c['start_time'][_0x1848c0(0x176)]('\x20');if(!this[_0x1848c0(0x17e)](_0x1c3daf[0x0])||!this[_0x1848c0(0x196)](_0x1c3daf[0x1]))return null;var _0x186288=_0x3c876c[_0x1848c0(0x174)]['split']('\x20');if(!this['isValidDate'](_0x186288[0x0])||!this[_0x1848c0(0x196)](_0x186288[0x1]))return null;try{var _0x1172cd=_0x1848c0(0x19e),_0x230b9f=MySql[_0x1848c0(0x163)](_0x1172cd,[_0x3c876c[_0x1848c0(0x147)],_0x3c876c[_0x1848c0(0x174)],_0x3c876c[_0x1848c0(0x165)]]),_0x41ff0f=await this[_0x1848c0(0x149)]['query'](_0x230b9f);if(_0x41ff0f[0x0][_0x1848c0(0x14e)]==0x0)return null;return _0x1172cd=_0x1848c0(0x193),_0x230b9f=MySql[_0x1848c0(0x163)](_0x1172cd,[_0x3c876c['timecard_id']]),_0x41ff0f=await this['pool'][_0x1848c0(0x185)](_0x230b9f),_0x41ff0f[0x0][_0x1848c0(0x161)]==0x1?new Timecard(_0x2b613a(parseDate(_0x41ff0f[0x0][0x0][_0x1848c0(0x147)]),_0x1848c0(0x159)),_0x2b613a(parseDate(_0x41ff0f[0x0][0x0][_0x1848c0(0x174)]),_0x1848c0(0x159)),_0x41ff0f[0x0][0x0]['emp_id'],_0x41ff0f[0x0][0x0][_0x1848c0(0x165)]):null;}catch(_0x18e6e5){return console[_0x1848c0(0x158)](_0x18e6e5),null;}},DataLayer['prototype']['deleteTimecard']=async function(_0x35bba0){var _0x5e31a2=_0x31f1ff;try{var _0x4bd944='DELETE\x20from\x20timecard\x20WHERE\x20timecard_id\x20=\x20?',_0x2319fc=MySql[_0x5e31a2(0x163)](_0x4bd944,[_0x35bba0]),_0x4eb5cb=await this[_0x5e31a2(0x149)][_0x5e31a2(0x185)](_0x2319fc);return _0x4eb5cb[0x0][_0x5e31a2(0x14e)];}catch(_0x2246c4){return console[_0x5e31a2(0x158)](_0x2246c4),0x0;}},module['exports']=DataLayer;